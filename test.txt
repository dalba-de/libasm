section .text
	global ft_list_sort
	extern ft_write

ft_list_sort:
    mov r13, [rdi]
    mov r10, [rdi]
	mov rcx, 1

while:
    mov r10, r13
	cmp rcx, 0
	je fin
	mov rcx, 0

loop:
    cmp QWORD [r10 + 8], 0
    je while
    mov r12, [r10 + 8]
    push rdi
    push rsi
    push rcx
    mov rdx, rsi
    mov rdi, [r10]
    mov rsi, [r12]
    call rdx
    pop rcx
    pop rsi
    pop rdi
    cmp rax, 0
    jg sort

next:
    mov r10, [r10 + 8]
    jmp loop

sort:
    mov rcx, 1
	mov rdx, [r10]
	mov r8, [r12]
	mov [r10], r8
	mov [r12], rdx
	jmp next

fin:
	ret


debug:
    push rdi
    push rsi
    push rcx
    mov rdi, 1
    mov rsi, [r12]
    mov rdx, 1
    call ft_write
    pop rcx
    pop rsi
    pop rdi